<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.chinasoft.mapper.UserMapper">
	
	<!-- 分页查询用户 -->
	<select id="selectPaging" resultType="User">
		select * from user order by id limit #{start}, #{end}; 
	</select>

	<!-- 动态添加用户 -->
	<insert id="insertDynamic" parameterType="User">
		insert into user
		(id,username,password
		<if test="phone != null">
			,phone
		</if>
		<if test="address != null">
			,address
		</if>
		<if test="email != null">
			,email
		</if>
		<if test="c_id != 0">
			,c_id
		</if>
		)
		values(#{id},#{username},#{password}
		<if test="phone != null">
			,#{phone}
		</if>
		<if test="address != null">
			,#{address}
		</if>
		<if test="email != null">
			,#{email}
		</if>
		<if test="c_id != 0">
			,#{c_id}
		</if>
		)
	</insert>



	<select id="selectById" parameterType="int" resultType="User">
		select *
		from user where id = #{id}
	</select>
	<insert id="insertByUser" parameterType="User">
		insert into
		user(id,username,password,phone,address,email,c_id)
		values(#{id},#{username},#{password},#{phone},#{address},#{email},#{c_id})
	</insert>
	<delete id="deleteById" parameterType="int">
		delete from user where id
		= #{id}
	</delete>
	<update id="updateByUser" parameterType="User">
		update user
		set
		username=#{username}, password=#{password}, phone=#{phone},
		address=#{address}, email=#{email}, c_id=#{c_id} where id =
		#{id};
	</update>
	<select id="orderByAny" parameterType="String" resultType="User">
		select * from user ORDER BY ${column}
	</select>
</mapper>